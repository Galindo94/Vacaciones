(function (c) { c['fn']['inputFilter'] = function (d) { return this['on']('input\x20keydown\x20keyup\x20mousedown\x20mouseup\x20select\x20contextmenu\x20drop', function () { if (d(this['value'])) { this['oldValue'] = this['value']; this['oldSelectionStart'] = this['selectionStart']; this['oldSelectionEnd'] = this['selectionEnd']; } else if (this['hasOwnProperty']('oldValue')) { this['value'] = this['oldValue']; this['setSelectionRange'](this['oldSelectionStart'], this['oldSelectionEnd']); } }); }; }(jQuery)); function crearCalendario(e, f) { var e = '/' + $('#inicioFecha')['val']()['substring'](0x3, $('#inicioFecha')['val']()['length'] - 0x3) + '/'; var f = '/' + $('#finFecha')['val']()['substring'](0x3, $('#finFecha')['val']()['length'] - 0x3) + '/'; var i = []; var j = $('#fechasConcatendas')['val']()['split'](','); for (var k = 0x0; k < j['length']; k++) { i['push'](new Date(j[k])); } $('.kendocalendar')['kendoDatePicker']({ 'format': 'dd/MM/yyyy', 'min': e, 'max': f, 'disableDates': i, 'change': function () { if ($('#NumDias0')['val']() != '') { $['getJSON']('/Formulario/CalcularFechaFin', { 'NumeroDias': parseInt($('#NumDias0')['val']()), 'FechaInicio': $('#kendocalendar_0')['val'](), 'DiasFestivosSabadosDomingos': $('#fechasConcatendas')['val']() }, function (l) { switch (l['Codigo']) { case '0': var j = l['Resultado']['Data']['split']('/'); $('#kendocalendar_1')['val'](new Date(parseInt(j[0x2]), parseInt(j[0x1] - 0x1), parseInt(j[0x0]))['toJSON']()['slice'](0x0, 0xa)['split']('-')['reverse']()['join']('/')); break; case '-1': swal['fire']({ 'text': respuesta['Mensaje'], 'type': 'warning', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] })['then'](n => { if (n['value']) { $('#kendocalendar_1')['val'](''); } }); break; } }); } } }); } function validarNumDias() { $('#NumDias0')['focusout'](function () { if ($('#NumDias0')['val']() != '') { $['getJSON']('/Formulario/ValidarCantidadDias', { 'NumeroDias': parseInt($('#NumDias0')['val']()), 'NumDiasDisponibles': parseFloat($('#SpanNumDias0')['html']()), 'MinimoDias': parseInt($('#MinimoDias')['val']()) }, function (o) { switch (o['Codigo']) { case '1': swal['fire']({ 'text': o['Mensaje'], 'type': 'warning', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] })['then'](p => { if (p['value']) { setTimeout(function () { $('#kendocalendar_1')['val'](''); $('#NumDias0')['val'](''); $('#NumDias0')['focus'](); }, 0x1f4); } }); break; case '2': swal['fire']({ 'text': o['Mensaje'], 'type': 'warning', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] })['then'](q => { if (q['value']) { setTimeout(function () { $('#kendocalendar_1')['val'](''); $('#NumDias0')['val'](''); $('#NumDias0')['focus'](); }, 0x1f4); } }); break; } }); } }); } function calcularFechaFin() { $('#NumDias0')['change'](function () { if ($('#NumDias0')['val']() != '' && $('#kendocalendar_0')['val']() != '') { $['getJSON']('/Formulario/CalcularFechaFin', { 'NumeroDias': parseInt($('#NumDias0')['val']()), 'FechaInicio': $('#kendocalendar_0')['val'](), 'DiasFestivosSabadosDomingos': $('#fechasConcatendas')['val']() }, function (r) { switch (r['Codigo']) { case '0': var s = r['Resultado']['Data']['split']('/'); $('#kendocalendar_1')['val'](new Date(parseInt(s[0x2]), parseInt(s[0x1] - 0x1), parseInt(s[0x0]))['toJSON']()['slice'](0x0, 0xa)['split']('-')['reverse']()['join']('/')); break; case '-1': swal['fire']({ 'text': respuesta['Mensaje'], 'type': 'warning', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] })['then'](t => { if (t['value']) { $('#kendocalendar_1')['val'](''); } }); break; } }); } }); } function guardarSolicitud(u) { $('#btnAgregar0')['click'](function () { if ($('#NroIdentificacionHidden')['val']() != '' && $('#NumDias0')['val']() != '' && $('#kendocalendar_0')['val']() != '') { $('#DivFondoTrasparente')['show'](); $('#DivCirculoAzul')['show'](); $['post']('../Formulario/ConsultaFechasSolicitudExistentes', { 'oIdentificacion': $('#NroIdentificacionHidden')['val'](), 'FechaInicio': $('#kendocalendar_0')['val'](), 'FechaFin': $('#kendocalendar_1')['val']() }, function (v) { $('#DivFondoTrasparente')['hide'](); $('#DivCirculoAzul')['hide'](); switch (v['Codigo']) { case '-1': swal['fire']({ 'text': v['Mensaje'], 'type': 'error', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] }); break; case '-2': swal['fire']({ 'text': v['Mensaje'], 'type': 'error', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] }); break; case '-3': swal['fire']({ 'text': v['Mensaje'], 'type': 'error', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] }); break; case '1': $('#DivFondoTrasparente')['show'](); $('#DivCirculoAzul')['show'](); $['post']('../Formulario/GuardarSolicitud', { 'NroIdentificacion': $('#NroIdentificacionHidden')['val'](), 'NombresEmpleado': $('#NombresEmpleado')['val'](), 'ApellidosEmpleado': $('#ApellidosEmpleado')['val'](), 'oRespuestaSAP': $('#oRespuestaSAPModels')['val'](), 'oRespuestaMotor': $('#oRespuestaMotor')['val'](), 'NumeroDias': $('#NumDias0')['val'](), 'FechaInicio': $('#kendocalendar_0')['val'](), 'FechaFin': $('#kendocalendar_1')['val'](), 'NroMinDiasCorreoCompensacion': parseInt($('#NroMinDiasCorreoCompensacion')['val']()), 'CorreoCompensacion': $('#CorreoCompensacion')['val']() }, function (w) { $('#DivFondoTrasparente')['hide'](); $('#DivCirculoAzul')['hide'](); switch (w['Codigo']) { case '1': swal['fire']({ 'text': w['Mensaje'], 'type': 'success', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] })['then'](x => { if (x['value']) { var y = u; window['location']['href'] = y; } }); break; case '-1': swal['fire']({ 'text': w['Mensaje'], 'type': 'error', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] }); break; case '-2': swal['fire']({ 'text': w['Mensaje'], 'type': 'error', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] }); break; case '-3': swal['fire']({ 'text': w['Mensaje'], 'type': 'error', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] }); break; } }); break; case '2': swal['fire']({ 'text': v['Mensaje'], 'type': 'warning', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] }); break; } }); } else { swal['fire']({ 'text': 'Debe\x20ingresar\x20el\x20número\x20de\x20días\x20y\x20la\x20fecha\x20de\x20inicio\x20para\x20la\x20solicitud\x20de\x20vacaciones', 'type': 'warning', 'confirmButtonText': 'OK', 'confirmButtonColor': '#00AFF0', 'allowOutsideClick': ![], 'allowEscapeKey': ![] }); }; }); }