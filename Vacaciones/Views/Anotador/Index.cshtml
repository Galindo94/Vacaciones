@model Vacaciones.Models.Persona

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Anotador</title>

    <link href="@Url.Content("~/Content/kendo/2019.3.917/kendo.bootstrap-v4.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/bootstrap.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />

    @*calendario*@
    <link href="@Url.Content("~/Content/kendo/2019.3.917/kendo.default.min.css")" rel="stylesheet" />
    <script src="@Url.Content("~/Scripts/kendo/2019.3.917/jquery.min.js")"></script>
    <script src="@Url.Content("~/Scripts/kendo/2019.3.917/angular.min.js")"></script>
    <script src="@Url.Content("~/Scripts/kendo/2019.3.917/jszip.min.js")"></script>
    <script src="@Url.Content("~/Scripts/kendo/2019.3.917/kendo.all.min.js")"></script>
    <script src="@Url.Content("~/Scripts/bootstrap.min.js")"></script>

    <script>
        $(document).ready(function () {
            //Se le asignan a todos los inputs que tengan la clase .kendocalendar que sean de tipo calendario y se desabilitan
            $(".kendocalendar").kendoDatePicker();
            $(".kendocalendar").attr("readonly", true);

            //Se colocan los Id de los inputs dinamicamente
            $("input[class='kendocalendar k-input']").each(function (index) {
                $(this).attr('id', 'kendocalendar_' + index);
            })

            //Evitar que se cierre la modal cuando se da click por fuera de ella
            $("#btnOtrosColaboradoresModal").click(function () {
                $("#ModalOtrosColaboradores").modal({
                    backdrop: 'static',
                }
                );
            });

            $('#ModalOtrosColaboradores').on('hidden.bs.modal', function (e) {
                console.log("test");
                $("#kendocalendar_2").val('');
                $("#kendocalendar_3").val('');
            })

            $.getJSON("/Home/GetCiudadList", function (json) {
                $("#rowSelection").kendoGrid({
                    dataSource: {
                        data: json,
                        pageSize: 5
                    },
                    selectable: "single",
                    pageable: {
                        buttonCount: 5
                    },
                    scrollable: false,
                    navigatable: true,
                    columns: [
                        {
                            field: "Cedula",
                            title: "Cedula"
                        },
                        {
                            field: "NumeroDias",
                            title: "Numero de dias"
                        },
                        {
                            field: "FechaInicio",
                            title: "Fecha de inicio"
                        },
                        {
                            field: "FechaFin",
                            title: "Fecha de fin"
                        }
                    ]
                });
            });
        });
    </script>

</head>
<body>
    <div class="jumbotron">
        <div class="jumbotron-cuerpo">
            @Html.Partial("_EncabezadoEscenario")
            @Html.Partial("_CuerpoEscenario")
            @Html.Partial("_OtrosColaboradoresEscenario")
            @Html.Partial("_GridEmpleados")
        </div>

        <div class="modal fade" id="ModalOtrosColaboradores" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="jumbotron-cuerpo">
                            @Html.Partial("_ModalAnotadores")
                        </div>
                        <div class="jumbotron-cuerpo center">
                            <button type="button" class="btn btn-light" data-dismiss="modal">Agregar</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>